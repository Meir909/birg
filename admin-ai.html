<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>AI –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Äî Birge Admin</title>
<link rel="stylesheet" href="style.css">
<style>
.log-item { padding:0.6rem 0.75rem; background:var(--bg2); border-radius:6px; margin-bottom:4px; font-size:0.78rem; display:flex; gap:0.75rem; }
.log-time { color:var(--text3); flex-shrink:0; width:60px; }
.log-level { flex-shrink:0; width:50px; font-weight:600; }
.log-ok { color:var(--accent2); }
.log-warn { color:#F59E0B; }
.log-err { color:var(--accent3); }
</style>
</head>
<body>
<script src="components.js"></script>
<script>
buildLayout({
  isAdmin:true, adminPage:'ai', title:'AI –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥',
  content:`
    <div class="page-header flex justify-between items-center">
      <div>
        <div class="page-title">AI <span>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</span></div>
        <div class="page-subtitle">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å Gemini Flash 2.5</div>
      </div>
      <div class="ai-label"><span class="ai-pulse"></span> Gemini Flash 2.5 ¬∑ –û–Ω–ª–∞–π–Ω</div>
    </div>

    <div class="stat-grid mb-2">
      <div class="stat-card"><div class="stat-value">312</div><div class="stat-label">–ó–∞–ø—Ä–æ—Å–æ–≤ —Å–µ–≥–æ–¥–Ω—è</div><div class="stat-change">‚Üë +18%</div></div>
      <div class="stat-card"><div class="stat-value">94%</div><div class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å –º–∞—Ç—á–∏–Ω–≥–∞</div><div class="stat-change">‚Üë +2% –∑–∞ –º–µ—Å—è—Ü</div></div>
      <div class="stat-card"><div class="stat-value">87%</div><div class="stat-label">–£—Å–ø–µ—à–Ω–æ—Å—Ç—å –ø–æ–¥–±–æ—Ä–æ–≤</div></div>
      <div class="stat-card"><div class="stat-value">1.2—Å</div><div class="stat-label">–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞</div><div class="stat-change" style="color:var(--accent2);">–ù–æ—Ä–º–∞ &lt;2—Å</div></div>
      <div class="stat-card"><div class="stat-value">‚Ç∏ 4,200</div><div class="stat-label">API calls —Å–µ–≥–æ–¥–Ω—è</div></div>
      <div class="stat-card"><div class="stat-value">2</div><div class="stat-label">–û—à–∏–±–æ–∫ –∑–∞ –¥–µ–Ω—å</div><div class="stat-change" style="color:var(--accent2);">–ù–æ—Ä–º–∞ &lt;5</div></div>
    </div>

    <div class="grid-2 mb-2">
      <!-- USAGE BY FEATURE -->
      <div class="card">
        <h3 class="card-title mb-2">üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º</h3>
        ${[
          {name:'–ú–∞—Ç—á–∏–Ω–≥ –≥—Ä—É–ø–ø',calls:147,pct:47,color:'var(--ai)'},
          {name:'–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞',calls:89,pct:28,color:'var(--accent)'},
          {name:'AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (—á–∞—Ç)',calls:54,pct:17,color:'var(--accent2)'},
          {name:'–ü—Ä–æ–≥–Ω–æ–∑ –ø—Ä–∏–±—ã—Ç–∏—è',calls:22,pct:7,color:'#F59E0B'},
        ].map(f=>`
          <div style="display:flex;align-items:center;gap:0.75rem;padding:0.6rem 0;border-bottom:1px solid var(--border);">
            <div style="width:8px;height:32px;border-radius:4px;background:${f.color};flex-shrink:0;"></div>
            <div style="flex:1;">
              <div style="font-size:0.82rem;font-weight:500;">${f.name}</div>
              <div style="font-size:0.75rem;color:var(--text3);">${f.calls} –≤—ã–∑–æ–≤–æ–≤</div>
            </div>
            <div style="text-align:right;">
              <div style="font-family:var(--font-display);font-weight:700;font-size:1rem;">${f.pct}%</div>
            </div>
          </div>
        `).join('')}
      </div>

      <!-- ACCURACY METRICS -->
      <div class="card">
        <h3 class="card-title mb-2">üéØ –ú–µ—Ç—Ä–∏–∫–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏</h3>
        ${[
          {label:'–ú–∞—Ç—á–∏–Ω–≥ ‚Äî –ø—Ä–∏–Ω—è—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏',val:87},
          {label:'–ú–∞—Ä—à—Ä—É—Ç ‚Äî —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∞',val:93},
          {label:'ETA ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ &lt;3 –º–∏–Ω',val:91},
          {label:'–ñ–∞–ª–æ–±—ã ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è',val:96},
        ].map(m=>`
          <div style="margin-bottom:0.9rem;">
            <div style="display:flex;justify-content:space-between;font-size:0.8rem;margin-bottom:0.3rem;"><span style="color:var(--text2);">${m.label}</span><strong style="color:var(--ai2);">${m.val}%</strong></div>
            <div class="progress"><div class="progress-fill progress-purple" style="width:${m.val}%"></div></div>
          </div>
        `).join('')}
      </div>
    </div>

    <!-- AI PARAMETERS -->
    <div class="ai-card mb-2">
      <div class="ai-label mb-2"><span class="ai-pulse"></span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI-–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</div>
      <div class="grid-3">
        <div class="form-group">
          <label class="form-label">–†–∞–¥–∏—É—Å –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ (–∫–º)</label>
          <div style="display:flex;align-items:center;gap:1rem;">
            <input type="range" min="1" max="10" value="3" style="flex:1;" oninput="this.nextElementSibling.textContent=this.value+'–∫–º'">
            <span style="color:var(--ai2);min-width:40px;">3–∫–º</span>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">–ü–æ—Ä–æ–≥ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ (%)</label>
          <div style="display:flex;align-items:center;gap:1rem;">
            <input type="range" min="50" max="100" value="75" style="flex:1;" oninput="this.nextElementSibling.textContent=this.value+'%'">
            <span style="color:var(--ai2);min-width:40px;">75%</span>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">–í–µ—Å: –≤—Ä–µ–º—è vs —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ</label>
          <div style="display:flex;align-items:center;gap:1rem;">
            <input type="range" min="0" max="100" value="60" style="flex:1;" oninput="this.nextElementSibling.textContent=this.value+'%'">
            <span style="color:var(--ai2);min-width:40px;">60%</span>
          </div>
        </div>
      </div>
      <button class="btn btn-ai btn-sm" style="margin-top:0.5rem;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</button>
    </div>

    <!-- LOGS -->
    <div class="card">
      <div class="card-header">
        <h3 class="card-title">üìù –õ–æ–≥–∏ AI (–ø–æ—Å–ª–µ–¥–Ω–∏–µ 10)</h3>
        <select class="form-select" style="width:auto;font-size:0.8rem;"><option>–í—Å–µ —É—Ä–æ–≤–Ω–∏</option><option>–û—à–∏–±–∫–∏</option><option>–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è</option></select>
      </div>
      ${[
        {t:'09:47',l:'ok',msg:'–ú–∞—Ç—á–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω: 47 –≥—Ä—É–ø–ø, 312 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π'},
        {t:'09:45',l:'ok',msg:'–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ #1042 ‚Äî 94% —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å'},
        {t:'09:32',l:'ok',msg:'ETA –ø—Ä–æ–≥–Ω–æ–∑: –ø–æ–µ–∑–¥–∫–∞ #1041, –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ 1.2 –º–∏–Ω'},
        {t:'09:15',l:'warn',msg:'–í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: 48 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω (–ø–æ—Ä–æ–≥ 50)'},
        {t:'08:58',l:'ok',msg:'AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç: 12 —Å–µ—Å—Å–∏–π, avg 4.2 —Å–æ–æ–±—â–µ–Ω–∏—è'},
        {t:'08:30',l:'err',msg:'Gemini API timeout (retry 1/3) ‚Äî —Ä–µ—à–µ–Ω–æ'},
        {t:'08:29',l:'err',msg:'–û—à–∏–±–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ —Ä–∞–π–æ–Ω–∞ –ê–ª–∞—Ç–∞—É ‚Äî retry OK'},
        {t:'08:00',l:'ok',msg:'–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–æ'},
        {t:'07:45',l:'ok',msg:'–ü–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞: 47 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫'},
        {t:'07:30',l:'ok',msg:'–°–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—â–µ–Ω–∞, –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –Ω–æ—Ä–º–µ'},
      ].map(log=>`
        <div class="log-item">
          <span class="log-time">${log.t}</span>
          <span class="log-level ${log.l==='ok'?'log-ok':log.l==='warn'?'log-warn':'log-err'}">${log.l.toUpperCase()}</span>
          <span>${log.msg}</span>
        </div>
      `).join('')}
    </div>
  `
});
</script>
</body>
</html>